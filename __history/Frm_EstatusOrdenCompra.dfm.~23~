object FrmEstatusOrdenCompra: TFrmEstatusOrdenCompra
  Left = 0
  Top = 0
  Caption = 'FrmEstatusOrdenCompra'
  ClientHeight = 414
  ClientWidth = 688
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'Tahoma'
  Font.Style = []
  FormStyle = fsMDIChild
  OldCreateOrder = False
  Visible = True
  OnClose = FormClose
  OnShow = FormShow
  PixelsPerInch = 96
  TextHeight = 13
  object GBx1: TcxGroupBox
    Left = 0
    Top = 0
    Align = alTop
    Caption = 'Parametros de Consulta'
    ParentFont = False
    TabOrder = 0
    Height = 129
    Width = 688
    object dxLayoutControl1: TdxLayoutControl
      Left = 3
      Top = 15
      Width = 682
      Height = 104
      Align = alClient
      TabOrder = 0
      object ChkCmbContratos: TcxCheckComboBox
        Left = 67
        Top = 10
        ParentFont = False
        PopupMenu = pmLista
        Properties.EditValueFormat = cvfCaptions
        Properties.Items = <>
        Style.BorderColor = clWindowFrame
        Style.BorderStyle = ebs3D
        Style.HotTrack = False
        Style.ButtonStyle = bts3D
        Style.PopupBorderStyle = epbsFrame3D
        TabOrder = 0
        Width = 446
      end
      object ChkGrEstatus: TcxCheckGroup
        Left = 10
        Top = 37
        Caption = 'Estatus'
        EditValue = ';0'
        ParentFont = False
        Properties.Columns = 3
        Properties.Items = <
          item
            Caption = 'Pendientes'
          end
          item
            Caption = 'Validadas'
          end
          item
            Caption = 'Autorizadas'
          end>
        Style.BorderColor = clWindowFrame
        Style.BorderStyle = ebs3D
        TabOrder = 1
        Height = 52
        Width = 279
      end
      object btnConsulta: TcxButton
        Left = 438
        Top = 64
        Width = 75
        Height = 25
        Caption = 'Consultar'
        TabOrder = 2
        OnClick = btnConsultaClick
      end
      object dxLayoutControl1Group_Root: TdxLayoutGroup
        AlignHorz = ahLeft
        AlignVert = avTop
        ButtonOptions.Buttons = <>
        Hidden = True
        ShowBorder = False
        Index = -1
      end
      object dxLayoutControl1Item1: TdxLayoutItem
        Parent = dxLayoutControl1Group_Root
        CaptionOptions.Text = 'Contratos:'
        Control = ChkCmbContratos
        ControlOptions.ShowBorder = False
        Index = 0
      end
      object dxLayoutControl1Item2: TdxLayoutItem
        Parent = dxLayoutControl1Group1
        AlignHorz = ahClient
        CaptionOptions.Text = 'cxCheckGroup1'
        CaptionOptions.Visible = False
        Control = ChkGrEstatus
        ControlOptions.ShowBorder = False
        Index = 0
      end
      object dxLayoutControl1Item3: TdxLayoutItem
        Parent = dxLayoutControl1Group1
        AlignVert = avBottom
        CaptionOptions.Text = 'Consultar'
        CaptionOptions.Visible = False
        Control = btnConsulta
        ControlOptions.ShowBorder = False
        Index = 1
      end
      object dxLayoutControl1Group1: TdxLayoutAutoCreatedGroup
        Parent = dxLayoutControl1Group_Root
        LayoutDirection = ldHorizontal
        Index = 1
        AutoCreated = True
      end
    end
  end
  object GBx2: TcxGroupBox
    Left = 0
    Top = 129
    Align = alClient
    Caption = 'Ordenes de Compra'
    ParentFont = False
    TabOrder = 1
    Height = 285
    Width = 688
    object Grid_Entradas: TcxGrid
      Left = 3
      Top = 15
      Width = 682
      Height = 260
      Align = alClient
      Font.Charset = DEFAULT_CHARSET
      Font.Color = clWindowText
      Font.Height = -11
      Font.Name = 'Arial'
      Font.Style = []
      ParentFont = False
      TabOrder = 0
      object dbg_OCVista: TcxGridDBTableView
        Navigator.Buttons.CustomButtons = <>
        DataController.DataSource = dsConsulta
        DataController.Filter.Options = [fcoCaseInsensitive]
        DataController.Summary.DefaultGroupSummaryItems = <>
        DataController.Summary.FooterSummaryItems = <>
        DataController.Summary.SummaryGroups = <>
        FilterRow.InfoText = 'Haga clic aqu'#237' para definir un filtro'
        FilterRow.Visible = True
        FilterRow.ApplyChanges = fracImmediately
        OptionsData.Deleting = False
        OptionsData.DeletingConfirmation = False
        OptionsData.Editing = False
        OptionsView.ColumnAutoWidth = True
        OptionsView.GroupByBox = False
        OptionsView.GroupRowHeight = 20
        object Col_ifoliopedido: TcxGridDBColumn
          Caption = 'Id'
          DataBinding.FieldName = 'iFolioPedido'
          Width = 20
        end
        object Col_ordenCompra: TcxGridDBColumn
          Caption = 'Orden Compra'
          DataBinding.FieldName = 'sOrdenCompra'
          Width = 115
        end
        object Col_fecha: TcxGridDBColumn
          Caption = 'Fecha'
          DataBinding.FieldName = 'dIdFecha'
          Width = 78
        end
        object Col_fechasuministro: TcxGridDBColumn
          Caption = 'Fecha Suministro'
          DataBinding.FieldName = 'dFechaEntrega'
          Width = 71
        end
        object Col_montomn: TcxGridDBColumn
          Caption = 'Monto MN'
          DataBinding.FieldName = 'dMontoMN'
          PropertiesClassName = 'TcxCurrencyEditProperties'
          Width = 84
        end
        object Col_status: TcxGridDBColumn
          Caption = 'Estatus'
          DataBinding.FieldName = 'sStatus'
          Width = 48
        end
        object Col_grid_EntradasDBTableView1Column1: TcxGridDBColumn
          Caption = 'Proveedor'
          DataBinding.FieldName = 'TituloProveedor'
          Width = 97
        end
        object Col_Contacto: TcxGridDBColumn
          Caption = 'Contacto'
          DataBinding.FieldName = 'sVendedor'
          Width = 144
        end
        object Col_Entregado: TcxGridDBColumn
          Caption = 'Entregado'
          DataBinding.FieldName = 'eEntregado'
          Width = 73
        end
        object Col_Moneda: TcxGridDBColumn
          Caption = 'Moneda'
          DataBinding.FieldName = 'TituloMoneda'
          Width = 60
        end
        object Col_correo: TcxGridDBColumn
          Caption = 'Correo'
          DataBinding.FieldName = 'sMail'
          Width = 106
        end
        object Col_autorizo: TcxGridDBColumn
          Caption = 'Autorizo'
          DataBinding.FieldName = 'sAutorizo'
          Width = 82
        end
        object Col_folio: TcxGridDBColumn
          Caption = 'Requisicion'
          DataBinding.FieldName = 'sFolioRequisicion'
          Width = 71
        end
        object Col_Frente: TcxGridDBColumn
          Caption = 'Frente Trabajo'
          DataBinding.FieldName = 'sNumeroOrden'
          Width = 92
        end
        object Col_lugarentrega: TcxGridDBColumn
          Caption = 'Lugar Entrega'
          DataBinding.FieldName = 'sLugarEntrega'
          Width = 82
        end
        object Col_formapago: TcxGridDBColumn
          Caption = 'Forma de Pago'
          DataBinding.FieldName = 'TituloFormaPago'
          PropertiesClassName = 'TcxComboBoxProperties'
          Width = 23
        end
      end
      object dbgLevOC: TcxGridLevel
        GridView = dbg_OCVista
      end
    end
  end
  object pmLista: TPopupMenu
    Left = 336
    Top = 216
    object mniMarcar: TMenuItem
      Caption = 'Marcar'
      OnClick = mniMarcarClick
    end
    object mniDesmarcar: TMenuItem
      Caption = 'Desmarcar'
      OnClick = mniDesmarcarClick
    end
  end
  object QrConsulta: TZReadOnlyQuery
    Connection = connection.zConnection
    SQL.Strings = (
      'select '
      '  p.*,'
      '  pr.`sRazonSocial` as TituloProveedor,'
      '  fp.`sDescripcion` as TituloFormaPago,'
      '  tm.`sDescripcion` as TituloMoneda,'
      
        '  Cast(IFNULL(Sum(pp.dCantidad * (pp.dCosto - pp.dDescuento)),0)' +
        ' as  DECIMAL(20,2)) as dMontoMN '
      ''
      'from anexo_pedidos  as p'
      'inner join'
      '  proveedores as pr'
      'on(pr.`sIdProveedor` = p.`sIdProveedor`)'
      ''
      'Inner join '
      '  formas_pago as fp'
      'on(fp.`sIdFormaPago`=p.`sFormaPago`)'
      ''
      'Inner Join'
      '  tiposdemoneda as tm'
      'on(tm.sIdMoneda= p.sMoneda) '
      ''
      'left join '
      '  anexo_ppedido as pp'
      
        'on(pp.iFolioPedido = p.iFolioPedido and pp.sContrato = p.sContra' +
        'to)'
      ''
      'where Find_In_Set(p.sContrato,:Contrato) and '
      'Find_In_Set(p.sStatus,:Estatus)'
      'Group By p.iFolioPedido '
      'order by sOrdenCompra, iFolioPedido DESC')
    Params = <
      item
        DataType = ftUnknown
        Name = 'Contrato'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'Estatus'
        ParamType = ptUnknown
      end>
    Left = 384
    Top = 248
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'Contrato'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'Estatus'
        ParamType = ptUnknown
      end>
  end
  object dsConsulta: TDataSource
    DataSet = QrConsulta
    Left = 392
    Top = 216
  end
end
